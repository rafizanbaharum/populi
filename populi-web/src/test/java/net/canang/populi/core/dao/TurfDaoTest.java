package net.canang.populi.core.dao;

import com.vividsolutions.jts.geom.Polygon;
import com.vividsolutions.jts.io.ParseException;
import com.vividsolutions.jts.io.WKTReader;
import net.canang.populi.core.model.Turf;
import net.canang.populi.core.model.TurfImpl;
import org.hibernate.SessionFactory;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;


/**
 * @author rafizan.baharum
 * @since 6/29/13
 */
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = {PopuliConfiguration.class})
public class TurfDaoTest {

    private Logger log = LoggerFactory.getLogger(TurfDaoTest.class);

    @Autowired
    private TurfDao turfDao;

    @Autowired
    private SessionFactory sessionFactory;

    @Test
    public void createTurf() throws ParseException {
        WKTReader reader = new WKTReader();

//        Turf turf1 = new TurfImpl();
//        turf1.setCode("0001");
//        turf1.setDescription("Turf 1");
//        turf1.setBound((Polygon) reader.read("POLYGON((1.54287761836545 103.630771636963,1.54013203032189 103.633260726929,1.53361124455264 103.62699508667,1.52897804258492 103.630514144897,1.52297202515443 103.636522293091,1.51962580817807 103.639698028564,1.52709043891444 103.647594451904,1.52777684044108 103.651285171509,1.52691883849852 103.655920028687,1.52957864340479 103.664846420288,1.53052244435348 103.667507171631,1.53635684098732 103.663644790649,1.5427918187927 103.658151626587,1.5462237990016 103.656949996948,1.54785398765766 103.656606674194,1.54956997436264 103.651542663574,1.5508569634791 103.647165298462,1.54991317153686 103.643732070923,1.54630959843577 103.644590377808,1.54201962248222 103.642616271973,1.54244862046708 103.63995552063,1.54013203032189 103.638925552368,1.54193382287485 103.636264801025,1.54270601921647 103.634462356567,1.5427918187927 103.632831573486,1.54407881202053 103.631715774536,1.54287761836545 103.630771636963))"));
//        turfDao.save(turf1);
//
//        Turf turf2 = new TurfImpl();
//        turf2.setCode("0002");
//        turf2.setDescription("Turf 2");
//        turf2.setBound((Polygon) reader.read("POLYGON((1.52314362588505 103.679695129395,1.52760524007999 103.674802780151,1.53129464482073 103.667850494385,1.54450780959001 103.657722473145,1.57016170594143 103.661670684814,1.57633918597893 103.659439086914,1.57316464991114 103.668022155762,1.57076229508077 103.681240081787,1.56261142777588 103.694972991943,1.55222975100728 103.703298568726,1.55068536497545 103.709564208984,1.54648119729371 103.706817626953,1.54416461154135 103.697376251221,1.53644264081908 103.689308166504,1.5246022315434 103.682012557983,1.52314362588505 103.679695129395))"));
//        turfDao.save(turf2);
//
//        Turf turf3 = new TurfImpl();
//        turf3.setCode("0003");
//        turf3.setDescription("Turf 3");
//        turf3.setBound((Polygon) reader.read("POLYGON((1.52228562209532 103.680381774902,1.52383002867085 103.682355880737,1.52880644231978 103.68501663208,1.53567044220923 103.689308166504,1.54253442005367 103.695831298828,1.54502260655906 103.70304107666,1.5462237990016 103.70698928833,1.51928260614358 103.726816177368,1.51319076096944 103.716173171997,1.50761370460897 103.708276748657,1.50666989365605 103.69909286499,1.50443906614228 103.693256378174,1.50589768439043 103.691453933716,1.52228562209532 103.680381774902))"));
//        turfDao.save(turf3);
//
//        Turf turf4 = new TurfImpl();
//        turf4.setCode("0004");
//        turf4.setDescription("Turf 4");
//        turf4.setBound((Polygon) reader.read("POLYGON((1.52099861577056 103.679780960083,1.50864331609091 103.661670684814,1.50306624807666 103.656177520752,1.49611634339102 103.655834197998,1.49362810055301 103.657293319702,1.48899481328122 103.663558959961,1.48513373311376 103.664245605469,1.48616335515206 103.668193817139,1.49688855611193 103.679780960083,1.5029804469189 103.685960769653,1.50255144107948 103.689222335815,1.50401006058953 103.691539764404,1.50967292708557 103.688020706177,1.52099861577056 103.680338859558,1.52099861577056 103.679780960083))"));
//        turfDao.save(turf4);
//
//        Turf turf5 = new TurfImpl();
//        turf5.setCode("0005");
//        turf5.setDescription("Turf 5");
//        turf5.setBound((Polygon) reader.read("POLYGON((1.51384856579983 103.632831573486,1.51685158929951 103.636865615845,1.52689023755507 103.648281097412,1.52620383574529 103.657121658325,1.52997904298518 103.667249679565,1.52826304051697 103.670339584351,1.525603233982 103.675403594971,1.5220854202891 103.679523468018,1.51015913123521 103.662014007568,1.50398145934353 103.655834197998,1.50089261683511 103.655490875244,1.50123582177388 103.651628494263,1.49934819394416 103.647937774658,1.51384856579983 103.632831573486))"));
//        turfDao.save(turf5);

        Turf turf6 = new TurfImpl();
        turf6.setCode("0006");
        turf6.setDescription("Turf 6");
        turf6.setBound((Polygon) reader.read("POLYGON ((1.5037526572173996 103.69359970092773,1.5060692864731058 103.69857788085938,1.5062408885422744 103.70450019836426,1.5076137046089744 103.70990753173828,1.5153357788309958 103.7215805053711,1.5188536035237756 103.72698783874512,1.511732147611679 103.73239517211914,1.5099303297580502 103.73394012451172,1.5056402812410763 103.73316764831543,1.502208236347297 103.73514175415039,1.4997200004273856 103.73565673828125,1.49474352010496 103.7384033203125,1.491311458136411 103.74054908752441,1.489423821771546 103.74003410339355,1.4910540532728571 103.73488426208496,1.4892522183854369 103.72836112976074,1.486506562391503 103.72063636779785,1.4863349587784547 103.71703147888184,1.495043825272162 103.7045431137085,1.4972746623704027 103.70123863220215,1.5010928205954108 103.69578838348389,1.5031091486542778 103.69351387023926,1.5037526572173996 103.69359970092773)) draw:63"));
        turfDao.save(turf6);
    }
}
